<!DOCTYPE html>

<html lang="English" data-content_root="../../../">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.18.1: http://docutils.sourceforge.net/" />

    <title>Function Intercalls &#8212; Psi4 Documentation 1.11 documentation</title>
    <link rel="stylesheet" type="text/css" href="../../../_static/pygments.css?v=61cd365c" />
    <link rel="stylesheet" type="text/css" href="../../../_static/alabaster.css?v=12dfc556" />
    <script src="../../../_static/documentation_options.js?v=29ef4520"></script>
    <script src="../../../_static/doctools.js?v=9a2dae69"></script>
    <script src="../../../_static/sphinx_highlight.js?v=dc90522c"></script>
    <link rel="index" title="Index" href="../../../genindex.html" />
    <link rel="search" title="Search" href="../../../search.html" />
   
  <link rel="stylesheet" href="../../../_static/custom.css" type="text/css" />
  

  
  

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="function-intercalls">
<span id="sec-intercalls"></span><h1>Function Intercalls<a class="headerlink" href="#function-intercalls" title="Link to this heading">¶</a></h1>
<p>This topic is in transition. As of 1.0, the functionality provided by
<code class="docutils literal notranslate"><span class="pre">cp()</span></code> and <code class="docutils literal notranslate"><span class="pre">cbs()</span></code> should not be accessed directly. Instead, use the
<code class="docutils literal notranslate"><span class="pre">cp</span></code> kwarg and/or the extended method syntax like
<code class="docutils literal notranslate"><span class="pre">'mp3/aug-cc-pv[dt]z'</span></code> to <code class="docutils literal notranslate"><span class="pre">energy()</span></code>, <code class="docutils literal notranslate"><span class="pre">opt()</span></code>, <em>etc.</em>, respectively.</p>
<p>For many of the <a href="#id4"><span class="problematic" id="id5">|PSIfour|</span></a> Python functions described above, it makes scientific
sense that they could be called in combination. For instance, one could
optimize all the reagents in a database or compute a
counterpoise-corrected interaction energy with an extrapolated method. The
table below outlines permitted intercalls between functions, showing that
db(opt(cbs(energy()))) is allowed, while db(cp(energy())) is not. This
table is not yet validated for calls with cp().</p>
<span id="table-intercalls"></span><table class="docutils align-default" id="id3">
<caption><span class="caption-text">Permitted nesting of Psithon functions</span><a class="headerlink" href="#id3" title="Link to this table">¶</a></caption>
<thead>
<tr class="row-odd"><th class="head"><p>Caller</p></th>
<th class="head" colspan="5"><p>Callee</p></th>
</tr>
<tr class="row-even"><th class="head"></th>
<th class="head"><p>cp</p></th>
<th class="head"><p>db</p></th>
<th class="head"><p>opt</p></th>
<th class="head"><p>cbs</p></th>
<th class="head"><p>energy</p></th>
</tr>
</thead>
<tbody>
<tr class="row-odd"><td><p><a class="reference internal" href="nbody.html#sec-cp"><span class="std std-ref">Basis Set Superposition Corrections</span></a></p></td>
<td></td>
<td><p>---</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="db.html#sec-db"><span class="std std-ref">Database |w---w| database()</span></a></p></td>
<td><p>---</p></td>
<td></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="opt.html#sec-opt"><span class="std std-ref">Geometry Optimization |w---w| optimize() and gradient()</span></a></p></td>
<td><p>---</p></td>
<td><p>---</p></td>
<td></td>
<td><p>Y</p></td>
<td><p>Y</p></td>
</tr>
<tr class="row-even"><td><p><a class="reference internal" href="cbs.html#sec-cbs"><span class="std std-ref">Complete Basis Set</span></a></p></td>
<td><p>---</p></td>
<td><p>---</p></td>
<td><p>---</p></td>
<td></td>
<td><p>Y</p></td>
</tr>
<tr class="row-odd"><td><p><a class="reference internal" href="energy.html#sec-energy"><span class="std std-ref">Single-Point Energy |w---w| energy()</span></a></p></td>
<td><p>---</p></td>
<td><p>---</p></td>
<td><p>---</p></td>
<td><p>---</p></td>
<td></td>
</tr>
</tbody>
</table>
<ul class="simple">
<li><p>The command db(opt(cbs(energy()))) is actually expressed as <code class="docutils literal notranslate"><span class="pre">db(...,</span>
<span class="pre">db_func=opt,</span> <span class="pre">opt_func=cbs)</span></code>. The perhaps expected final argument of
<code class="docutils literal notranslate"><span class="pre">cbs_func=energy</span></code> is not necessary since energy() is always the function
called by default. Also, the outermost internal function call (<code class="docutils literal notranslate"><span class="pre">db_func</span></code>
above can be called as just <code class="docutils literal notranslate"><span class="pre">func</span></code>. Several examples of intercalls
between Python functions can be found in sample input <a href="#id1"><span class="problematic" id="id2">:srcsample:`pywrap-all`</span></a>.</p></li>
<li><p>All keyword arguments are passed along to each function traversed in the
Python driver, so there should be no concern for separating them, grouping
them, or designating them for a particular function when undertaking a
nested calculation. Where the same keyword is used by multiple functions,
prefixes are added, <em>e.g.</em>, <strong>db_mode</strong> and <strong>opt_mode</strong>.</p></li>
<li><p>Function intercalls should not be used in sow/reap mode.</p></li>
</ul>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../../../index.html">Psi4 Documentation</a></h1>








<h3>Navigation</h3>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../../../index.html">Documentation overview</a><ul>
  </ul></li>
</ul>
</div>
<search id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</search>
<script>document.getElementById('searchbox').style.display = "block"</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &#169;2024, Harishankar.
      
      |
      Powered by <a href="https://www.sphinx-doc.org/">Sphinx 7.3.7</a>
      &amp; <a href="https://alabaster.readthedocs.io">Alabaster 0.7.16</a>
      
      |
      <a href="../../../_sources/doc/sphinxman/source/intercalls.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>